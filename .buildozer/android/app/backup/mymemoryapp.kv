# Hauptmenü
<MainMenuScreen>:
    continue_button: continue_button
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Hauptmenü"
        Button:
            text: "Spiel fortsetzen"
            background_normal: ""
            background_color: app.light_blue
            background_border: app.black
            disabled: True
            id: continue_button
            on_release:
                app.continue_game()

        Button:
            text: "Standard-Modus"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "standard_mode"

        Button:
            text: "Zeit-Modus"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "time_mode"

        Button:
            text: "Multiplayer"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "multiplayer_mode"

        Button:
            text: "Einstellungen"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "settings"

        Button:
            text: "Beenden"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.exit_app()

# Standard-Modus
<StandardModeScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Standard-Modus"
        Button:
            text: "Klein"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(16, "standard")
        Button:
            text: "Mittel"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(36, "standard")
        Button:
            text: "Groß"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(64, "standard")
        Button:
            text: "Zurück"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "main_menu"

# Zeit-Modus
<TimeModeScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Zeit-Modi"
        Button:
            text: "Zeitrennen"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "time_race"
        Button:
            text: "Zurück"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "main_menu"

# Standard-Zeitmodus (Zeit wird gestoppt, welche der Spieler für das Lösen eines Memory-Spiels benötigt)
<TimeRaceScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Zeitrennen"
        Button:
            text: "Klein"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(16, "time_race")
        Button:
            text: "Mittel"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(36, "time_race")
        Button:
            text: "Groß"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(64, "time_race")
        Button:
            text: "Zurück"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "time_mode"

<MultiplayerScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Multiplayer"
        Button:
            text: "Duell gegen Spieler"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "duell_mode"
        Button:
            text: "Kampf gegen AI"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "battle_mode"

<DuellModeScreen>:
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Duell-Modus"
        Button:
            text: "Klein"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(16, "duell_standard")
        Button:
            text: "Mittel"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(36, "duell_standard")
        Button:
            text: "Groß"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.start_new_game(64, "duell_standard")
        Button:
            text: "Zurück"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "main_menu"

# Kampf-Modus
<BattleModeScreen>:
    easy_button: easy_button
    medium_button: medium_button
    hard_button: hard_button
    small: small
    medium: medium
    big: big

    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        Label:
            text: "Kampf-Modus"
        ################ Schwierigkeitsgrad der KI ######################################
        BoxLayout:
            orientation: "horizontal"
            padding: (5, 5, 5, 5)
            spacing: 5
            rows: 1
            Button:
                text: "Leicht"
                background_normal: ""
                background_color: app.light_blue
                disabled_color: app.beige
                id: easy_button
                on_release:
                    root.update_diff_buttons(1)
            Button:
                text: "Mittel"
                background_normal: ""
                background_color: app.light_blue
                disabled_color: app.beige
                id: medium_button
                on_release:
                    root.update_diff_buttons(2)
            Button:
                text: "Schwer"
                background_normal: ""
                background_color: app.light_blue
                disabled_color: app.beige
                id: hard_button
                on_release:
                    root.update_diff_buttons(3)
        ################ Spielfeldgröße ######################################
        BoxLayout:
            orientation: "horizontal"
            padding: (5, 5, 5, 5)
            spacing: 5
            Button:
                text: "Klein (4*4)"
                background_normal: ""
                background_color: app.light_blue
                disabled_color: app.beige
                id: small
                on_release:
                    root.update_board_size_buttons(1)
            Button:
                text: "Mittel (6*6)"
                background_normal: ""
                background_color: app.light_blue
                disabled_color: app.beige
                id: medium
                on_release:
                    root.update_board_size_buttons(2)
            Button:
                text: "Groß (8*8)"
                background_normal: ""
                background_color: app.light_blue
                disabled_color: app.beige
                id: big
                on_release:
                    root.update_board_size_buttons(3)

        BoxLayout:
            orientation: "horizontal"
            padding: (5, 5, 5, 5)
            spacing: 5
            Button:
                text: "Zurück"
                background_normal: ""
                background_color: app.light_blue
                on_release:
                    app.root.current = "main_menu"
            Button:
                text: "Spiel starten"
                background_normal: ""
                background_color: app.light_blue
                on_release:
                    root.init_new_game("battle")

# Einstellungen
<SettingsScreen>:
    top_label: top_label
    touch_delay_label: touch_delay_label
    ai_timeout_label: ai_timeout_label
    hide_cards_timeout_label: hide_cards_timeout_label
    BoxLayout:
        orientation: "vertical"
        padding: (5, 5, 5, 5)
        spacing: 5
        LabelBackgroundColor:
            id: top_label
            text: "Einstellungen"
        Button:
            text: "Zurück"
            background_normal: ""
            background_color: app.light_blue
            on_release:
                app.root.current = "main_menu"
        BoxLayout:
            orientation: "horizontal"
            padding: (5, 5, 5, 5)
            spacing: 5
            LabelBackgroundColor:
                text: "Touch-Delay: 10 (Standard = 10)"
                id: touch_delay_label
                size_hint: 0.6, 1
            Button:
                text: "+"
                background_normal: ""
                background_color: app.light_blue
                size_hint: 0.2, 1
                on_release:
                    root.increase_touch_delay()
                    root.change_touch_delay_label_text()
            Button:
                text: "-"
                background_normal: ""
                background_color: app.light_blue
                size_hint: 0.2, 1
                on_release:
                    root.decrease_touch_delay()
                    root.change_touch_delay_label_text()
        BoxLayout:
            orientation: "horizontal"
            padding: (5, 5, 5, 5)
            spacing: 5
            LabelBackgroundColor:
                text: "AI Timeout: 1.0 (Standard = 1.0)"
                id: ai_timeout_label
                size_hint: 0.6, 1
            Button:
                text: "+"
                background_normal: ""
                background_color: app.light_blue
                size_hint: 0.2, 1
                on_release:
                    root.increase_ai_timeout()
                    root.change_ai_timeout_label_text()
            Button:
                text: "-"
                background_normal: ""
                background_color: app.light_blue
                size_hint: 0.2, 1
                on_release:
                    root.decrease_ai_timeout()
                    root.change_ai_timeout_label_text()
        BoxLayout:
            orientation: "horizontal"
            padding: (5, 5, 5, 5)
            spacing: 5
            LabelBackgroundColor:
                text: "Karten verdecken: 0.8 (Standard = 0.8)"
                id: hide_cards_timeout_label
                size_hint: 0.6, 1
            Button:
                text: "+"
                background_normal: ""
                background_color: app.light_blue
                size_hint: 0.2, 1
                on_release:
                    root.increase_hide_cards_timeout()
                    root.change_hide_cards_timeout_label_text()
            Button:
                text: "-"
                background_normal: ""
                background_color: app.light_blue
                size_hint: 0.2, 1
                on_release:
                    root.decrease_hide_cards_timeout()
                    root.change_hide_cards_timeout_label_text()

# Eigentliches Spiel
<GameScreen>:
    layout: layout
    memory_grid: memory_grid
    scatter: scatter
    bottom_label: bottom_label
    top_label: top_label
    top_layout: top_layout
    scatter_layout: scatter_layout
    bottom_layout: bottom_layout

    FloatLayout:
        id: layout
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.8
            pos_hint: {"x": 0, "y": 0.1}
            id: scatter_layout
            MyScatter:
                id: scatter
                MyMemoryGrid:
                    id: memory_grid
                    cols: 6  # Beispielwert
                    size_hint: 1, 1
                    spacing: 0

        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.1  # Oberes BoxLayout (10% des Fensters)
            pos_hint: {'x': 0, "top": 1}
            id: top_layout
            LabelBackgroundColor:
                id: top_label
                text: "Standard-Modus"
                size_hint: 1, 1

        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.1  # Unteres Layout (10% des Fensters)
            pos_hint: {"x": 0, "bottom": 1}
            id: bottom_layout
            GridLayout:
                cols: 4
                size_hint: 1, 1
                padding: (5, 5, 5, 5)
                spacing: 5
                Button:
                    text: "Menü"
                    background_normal: ""
                    background_color: app.orange
                    size_hint: 0.25, 1
                    on_press: app.root.current = "main_menu"
                Button:
                    text: "Neustart"
                    background_normal: ""
                    background_color: app.orange
                    size_hint: 0.25, 1
                    on_press: root.restart_game()
                Button:
                    text: "Beenden"
                    background_normal: ""
                    background_color: app.orange
                    size_hint: 0.25, 1
                    on_press: app.exit_app()
                LabelBackgroundColor:
                    id: bottom_label
                    text: "Nirs zu moche"
                    size_hint: 0.25, 1